/*
* $ lightbox_me
* Author: Buck Wilson
* Edited By : Ram Shengale
* Version : 2.4.1
*/
!function(e){e.fn.lightbox_me=function(o){return this.each(function(){function i(){d[0].style;s.destroyOnClose?d.add(c).remove():d.add(c).hide(),s.parentLightbox&&s.parentLightbox.fadeIn(200),s.preventScroll&&e("body").css("overflow",""),r.remove(),d.undelegate(s.closeSelector,"click"),d.unbind("close",i),d.unbind("repositon",l),e(window).unbind("resize",t),e(window).unbind("resize",l),e(window).unbind("scroll",l),e(window).unbind("keyup.lightbox_me"),s.onClose()}function n(e){(27==e.keyCode||27==e.DOM_VK_ESCAPE&&0==e.which)&&s.closeEsc&&i()}function t(){e(window).height()<e(document).height()?(c.css({height:e(document).height()+"px"}),r.css({height:e(document).height()+"px"})):c.css({height:"100%"})}function l(){d[0].style;if(d.css({left:"50%",marginLeft:d.outerWidth()/2*-1,zIndex:s.zIndex+3}),d.height()+80>=e(window).height()&&"absolute"!=d.css("position")){var o=e(document).scrollTop()+40;d.css({position:"absolute",top:o+"px",marginTop:0})}else d.height()+80<e(window).height()&&(s.centered?d.css({position:"fixed",top:"50%",marginTop:d.outerHeight()/2*-1}):d.css({position:"fixed"}).css(s.modalCSS),s.preventScroll&&e("body").css("overflow","hidden"))}var s=e.extend({},e.fn.lightbox_me.defaults,o),c=e(),d=e(this),r=e('<iframe id="foo" style="z-index: '+(s.zIndex+1)+';border: none; margin: 0; padding: 0; position: absolute; width: 100%; height: 100%; top: 0; left: 0; filter: mask();"/>');if(s.showOverlay){var a=e(".js_lb_overlay:visible");c=e(a.length>0?'<div class="lb_overlay_clear js_lb_overlay"/>':'<div class="'+s.classPrefix+'_overlay js_lb_overlay"/>')}d.before(c),s.showOverlay&&(t(),c.css({position:"fixed",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:s.zIndex+2,display:"none"}),c.hasClass("lb_overlay_clear")||c.css(s.overlayCSS)),s.showOverlay?c.fadeIn(s.overlaySpeed,function(){l(),d[s.appearEffect](s.lightboxSpeed,function(){t(),l(),s.onLoad()})}):(l(),d[s.appearEffect](s.lightboxSpeed,function(){s.onLoad()})),s.parentLightbox&&s.parentLightbox.fadeOut(200),e(window).resize(t).resize(l).scroll(l),e(window).bind("keyup.lightbox_me",n),s.closeClick&&c.click(function(e){i(),e.preventDefault}),d.delegate(s.closeSelector,"click",function(e){i(),e.preventDefault()}),d.bind("close",i),d.bind("reposition",l)})},e.fn.lightbox_me.defaults={appearEffect:"fadeIn",appearEase:"",overlaySpeed:250,lightboxSpeed:300,closeSelector:".close",closeClick:!0,closeEsc:!0,destroyOnClose:!1,showOverlay:!0,parentLightbox:!1,preventScroll:!1,onLoad:function(){},onClose:function(){},classPrefix:"lb",zIndex:999,centered:!1,modalCSS:{top:"40px"},overlayCSS:{background:"black",opacity:.7}}}(jQuery);